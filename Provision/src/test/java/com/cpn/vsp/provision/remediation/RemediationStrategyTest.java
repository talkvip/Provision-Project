package com.cpn.vsp.provision.remediation;

import org.junit.Test;

public class RemediationStrategyTest {
	@Test
	public void testRemediationStrategy() throws NumberFormatException, Exception{
//		String instanceId = "12345";
//		String ipAddress = "1.2.3.4";
//		String availabilityZone ="I'm available";
		
//		InstanceProvisioningService instanceProvisioningService = Mockito.mock(InstanceProvisioningService.class);
//		VirtualResource mockResource = new VirtualResource();
//		Server mockInstance = Mockito.mock(Server.class);
//		Certificate mockCertificate = Mockito.mock(Certificate.class);
//		ProvisionedServer mockProvisionedInstance = Mockito.mock(ProvisionedServer.class);
//		Product mockProduct  = Mockito.mock(Product.class);
//		EntityManager entityManager = Mockito.mock(EntityManager.class);
//		when(instanceProvisioningService.provisionInstance(mockProduct)).thenReturn(mockProvisionedInstance);
//		InstanceRemediationStrategy remediationStrategy = new InstanceRemediationStrategy(instanceProvisioningService);
//		remediationStrategy.entityManager=entityManager;
//		when(mockProvisionedInstance.getServer()).thenReturn(mockInstance);
//		when(mockInstance.getId()).thenReturn(instanceId);
//		mockResource.setProduct(mockProduct);
//		
//		when(mockProvisionedInstance.getCertificate()).thenReturn(mockCertificate);
		
		//VirtualResource remediatedResource = remediationStrategy.remediate(mockResource);
//		verify(instanceProvisioningService).provisionInstance(mockProduct);
//		//verify(mockResource).setInstanceId(mockProvisionedInstance.getInstance().getInstanceId());
//		
//		assertEquals(remediatedResource.getCertificate(), mockCertificate);
//		assertEquals(remediatedResource.getInstanceId(), instanceId);
//		assertEquals(remediatedResource.getIpAddress(), ipAddress);
//		assertEquals(remediatedResource.getAvailabilityZone(),availabilityZone );
//		
	}

}
